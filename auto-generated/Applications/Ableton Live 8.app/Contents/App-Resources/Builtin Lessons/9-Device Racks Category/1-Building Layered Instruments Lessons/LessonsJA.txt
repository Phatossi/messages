$Page レイヤーされたインストゥルメントを構築する
$TargetName Building Layered Instruments
$ListInTocForProduct 00

ラックを使えば、高価なサードパーティ製ソフトサンプラーを使用することなく、$0の内蔵デバイスだけを使って複雑なマルチレイヤーのインストゥルメントを簡単に構築することができます。

このレッスンでは、ラックを使って、キーボード・セットアップ、ベロシティおよびキーでスイッチするパッチ、リリースレイヤーを作成する方法を学びます。

Divider.tif
*このレッスンでは、Liveセットを使用し、実際に操作を行いながら学ぶことができます。準備が整ったら、 準備が整ったら、 $Link ここ <Set:/Sets/Building Layered Instruments.als> をクリックしてLiveセットをロードしましょう。*
Divider.tif


セットがロードされたら、下の[次のページ]ボタンをクリックして進みます。

$Comment --------------------------------------------------------------------------------
$Page ラック操作の基本
$TargetName Basic Rack Controls

このセットには、[Synth]という名前のトラックが1つ含まれています。 このトラックは録音用に準備（アーム）されているため、MIDIキーボードがすでに取り付けられている場合、すぐに再生することができます。 それでは実際に行ってみましょう。

（ご使用のMIDIキーボードの設定について、詳しくは $Link MIDI コントローラを接続する <Lesson:Builtin/3-Hardware Setup Category/3-Connecting MIDI Controllers> レッスンをご参照ください。）

聞こえるサウンドは、トラックの｢デバイスチェーン｣内にある単一の[Simpler]インストゥルメントにより作成されています。 1つ以上のサウンドソースを使ったマルチレイヤーのインストゥルメントを構築するには、[Simpler]を[Instrument Rack]（インストゥルメント・ラック）と呼ばれる特別なケースに入れます。

まず、[Simpler]インストゥルメントを[Instrument Rack]へ入れましょう。 [Simpler]のタイトルバーで$ContextMenuし、[グループ化]を選択し（または$CommandMod-Gを押し）ます。

一見、あまり変化はありません。 インストゥルメントの右には、水平方向にタイトルバー（ラックのタイトルバー）が表示されます。
RackTitleBar.tif

右の括弧は、ラックが終わる場所を示します。
RackEndBracket.tif

$Comment --------------------------------------------------------------------------------
$Page 別のチェーンを加える
$TargetName Adding Another Chain

今のところ、追加デバイスやチェーンは加えられていません。オリジナルのデバイスチェーンをラックへ置いただけになっています。 ここに、追加デバイスチェーンを加えることができます。 ラックのタイトルバーの[チェーンリスト]ボタンをクリックして、どのように動作するのか見てみましょう。
ChainListToggle.tif

チェーンリストは、ラック内のデバイスチェーンの全体像を表示します。 また、これらチェーンのミキサーとしても機能します。リスト内の各チェーンには、ボリューム・パン・アクティベータ・ソロ・ホットスワップのコントロールがあります。
ChainList.tif

$0の｢デバイスブラウザ｣を開き、プリセットをブラウザからラックへドラッグして、別のチェーンをラックへ加えることができます。 デバイスブラウザのアイコンをクリックして開きましょう。
DeviceBrowserButton.tif

その後、[Instruments]>[Simpler]>[Piano and Keys]フォルダから[Keys-Acoustic Piano]プリセットを開きます。
HighlightedPreset.tif

このプリセットをチェーンリストの｢ドロップエリア｣へドラッグしてドロップします。
NewChain.tif

新規チェーンが自動的に作成されます。 これで、ご使用のMIDIキーボードを再生すると、2つの別個のSimplerインストゥルメントが同時に再生していることになります。 これで、インストゥルメントのスタックが作成されました。

$Comment --------------------------------------------------------------------------------
$Page ラックチェーンのミキシング
$TargetName Mixing Rack Chains

再生中、チェーンリストのミキサーコントロールを調整し、ボリュームおよびパンの設定を調節することができます。
ChainMixer.tif

セッションミキサー自体のトラックと一緒にラックチェーンをミックスすることもできます。 このラックを作成した際、ラックが含まれているトラックのトラック名のそばにボタンが加えられています。
InlineToggle.tif

このボタンを押し、ミキサーのチェーンビューを切り替えましょう。
InlineRackView.tif

あるビューでラックのミキサーコントロールになされた変更は、すぐにもう一方のビューに反映されます。

$Comment --------------------------------------------------------------------------------
$Page キーボードを分割する
$TargetName Splitting the Keyboard

場合によっては、キーボード・スプリット（分割）を行います。たとえば、キーボードの低域で1つのチェーンを再生し、高域でもう一方のチェーンを再生するようにします。 これを設定するには、｢キーゾーンエディタ｣を開きます。
KeyZoneButton.tif

｢ゾーン｣とは、特定の入力値がデバイスチェーンを通過するかしないかを決定するデータフィルタです。 このエディタには、キーゾーンが表示されます。キーゾーンは、MIDIキーレンジに対するフィルタです。 デフォルトでは、すべてのチェーンのキーレンジはフルレンジに設定されています。 これを変更するには、ゾーンの右端または左端をドラッグします。
DraggingZoneEdge.tif

調整中にはノート値がゾーンの下に表示され、微調整に便利です。 また、ゾーンがフルレンジよりも小さい場合、ゾーンの中央をクリックし新しい位置へとドラッグすることで、ゾーン全体を移動することができます。 この動作ではゾーンの相対的なサイズが維持されます。また、ドラッグ中にはゾーンの高域ノート値および低域ノート値が表示されます。
DraggingZoneRange.tif

ゾーンビューのサイズを変更するには、ゾーンエディタ内で$ContextMenuを使用し、3つのビューサイズから選択します。
ZoneSizingContext.tif

選択したサイズとご使用のスクリーンサイズによっては、｢トラックビューセレクタ｣をスクロールしてキーレンジをすべて表示する必要がある場合もあります。
TrackViewSelector.tif

ご使用のキーボードを各チェーンごとに均等に分割したい場合があります。 これを素早く行うには、ゾーンエディタ内で$ContextMenuを使用し、[レンジを均一に割り当てる]を選択します。
DistributeRangesEqually.tif

キーボードを再生しながら、さまざまなキーゾーンレンジを試し、最適な設定を見つけましょう。 終わったら、両方のゾーンをデフォルト値（フルレンジ）に戻してから、次のページへ進みましょう。

$Comment --------------------------------------------------------------------------------
$Page ベロシティスイッチング
$TargetName Velocity Switching

ノートレンジではなく、着信するノートの｢ベロシティ｣に基づいてチェーンを切り替えることもできます。たとえば、ベロシティが低いとあるチェーンが再生され、ベロシティが高いと別のチェーンが再生されます。 （この例は、ご使用のキーボードがMIDIノートベロシティに対応している場合にのみ機能します。） これを設定するには、｢ベロシティゾーンエディタ｣を開きます。
VelZoneButton.tif

このエディタは、キーゾーンエディタによく似ています。 ここでは、MIDIノート値ではなく、MIDIベロシティが1から127の範囲で表示されています。 キーゾーン同様、デフォルトはフルレンジに設定されています。 各チェーンはすべてのベロシティでトリガーされます。 ベロシティで切り替わるパッチを作成するには、前回同様ベロシティゾーンのサイズを変更します。
DraggingVelEdge.tif

さまざまなベロシティレンジを試し、最適な値を見つけましょう。

ベロシティ編集中、チェーン内のデバイスがそれぞれ異なる様子で反応しているのに気づきましたか。 [Xylophone Attack]インストゥルメントはベロシティが高いと大きな音になり、[Synth]インストゥルメントはベロシティに関係なく常に同じレベルで再生されます。

これは、ベロシティエディタに関する重要なポイントです。ベロシティゾーンと、デバイスの特定のパラメータのベロシティコントロールとの間には関係が｢ありません｣。 ゾーンエディタは、入力信号のどの帯域がどのチェーンへ通過するかを決定するためだけに機能します。 通過後これらの信号に何が起こるかは、チェーン内でデバイスがどのように組まれているかにより異なります。

ベロシティエディタを使った試みが終わったら、両方のゾーンをデフォルト値（フルレンジ）に戻してから、次のページへ進みましょう。

$Comment --------------------------------------------------------------------------------
$Page キースイッチング
$TargetName Key Switching
演奏する際、パッチを変更する代わりにキーボードの鍵盤を使ってサンプルレイヤーを切り替えると、素早い操作が行え便利です。 キースイッチングのパッチは、キーをラックの｢チェーンセレクタ｣に割り当てることで作成できます。チェーンセレクタの機能は、キーゾーンおよびベロシティゾーンと似ていますが、特定のMIDIパラメータに関連していないチェーンに対する追加フィルタとして機能します。

まず、チェーンのキーゾーンを変更し、キースイッチングに使用する鍵盤が音を発しないようにしましょう。 キーゾーンエディタを開き、両ゾーンの左端を[D-2]へドラッグして行います。
DSharpZones.tif

ここで、｢チェーン｣ボタンをクリックして｢チェーンセレクトエディタ｣を開きます。
ChainSelectButton.tif

チェーンセレクトルーラに垂直線が表示されています。 これは、｢チェーンセレクタ｣と呼ばれるインジケータで、ドラッグすることができます。 キーゾーンおよびベロシティゾーンが着信値と関連するのに対し、チェーンセレクトゾーンはチェーンセレクタの値にのみ関連しています。 チェーンの現在位置にそのゾーンが重ならないチェーンは、信号を受信しません。
ChainSelector.tif

デフォルトでは、チェーンセレクタと両ゾーンはゼロに設定されています。 それでは、2つのゾーンをフルレンジに拡大しましょう。 その後、ゾーンエディタ内で$ContextMenuを使用し、[レンジを均一に割り当てる]を選択します。

ご使用のMIDIキーボードを再生すると、[Synth]チェーンだけが聞こえます。 これは、[Keys-Acoustic Piano]チェーンに対するチェーンセレクトゾーンにゼロ（チェーンセレクタの位置）が含まれていないからです。 チェーンセレクタの位置を変更するには、MIDIキーの範囲へチェーンセレクタを割り当てます。 $CommandMod-Mを押すか、MIDIマップモードスイッチをクリックして、MIDIマッピングモードに切り替えます。
MIDIMapButton.tif

チェーンセレクトルーラ内をクリックし、MIDIアサインを選択します。
ChainSelectRuler.tif

3つのキー（C2-D2）をキースイッチとして割り当てます。 C2を押したままD2を押し、最後に両方のキーから指を離します。 $CommandMod-Mを押すか、MIDIマップモードスイッチをクリックして、マッピングモードを終了します。

3つノートのキーレンジは、チェーンセレクタのフルレンジにマップされました。 C2を押すとゼロへと移動します（従って、[Synth]チェーンのみ有効になります）。 D2を押すと127へと移動します（従って、[Keys-Acoustic Piano]チェーンのみ有効になります）。 C#2を押すと64へと移動します。現在のところ、この動作を行うと1つのチェーンのみが有効になります。 2つのゾーンが64に重なるようチェーンゾーンを変更する必要があります。 [Synth]ゾーンを右に拡大することで、この操作を行えます。
OverlappingZones.tif

それでは、高めのノートを再生しながらノートC2-D2を押し、チェーンの選択がどのように作用するかを聴いてみましょう。 現在再生中のノートは、選択されているチェーンの処理により影響されません。[Keys-Acoustic Piano]ゾーンに切り替える際に[Synth]コードが押されている場合、新に再生されるノートのみ[Keys-Acoustic Piano]チェーンをトリガーします。 一般的なパッチ変更と違い、キースイッチによる変更ではクリックノイズやサウンドのとぎれが発生しません。

チェーンセレクトエディタを使った試みが終わったら、両方のゾーンをデフォルト値（ゼロ）に戻し、チェーンセレクタをゼロに戻し、[隠す]ボタンをクリックして閉じて次のページへ進みましょう。

$Comment --------------------------------------------------------------------------------
$Page リリーストリガー
$TargetName Release Triggering

ハイエンドのサウンドライブラリによく見られるプログラミングのひとつに、｢リリースレイヤー｣の使用があります。 打鍵時でなく離鍵時にのみ再生されるサンプルがあります。 この機能は、アコースティック楽器のリアルなシミュレーション（ハープシコードなど）に使用することができます。 ラックと$06から搭載された[Note Length]MIDIエフェクトを使えば、この操作が簡単に行えます。

リリーストリガーを設定するには、デバイスブラウザを再び開き、[Note Length]MIDIエフェクトへ移動します。
NoteLength.tif

このデバイスを、チェーンリストの[Keys-Acoustic Piano]チェーンの上へドラッグ＆リリースします。 [Note Length]エフェクトがチェーン内のインストゥルメントの前に挿入されます。

ノートオフメッセージでこのチェーンをトリガーするには、[Note Length]ツールの[トリガー]ボタンをクリックして、 ｢ノートオン｣から｢ノートオフ｣へ動作を切り替えます。
NoteOff.tif


$Comment --------------------------------------------------------------------------------
$Page このレッスンが終わったら
$TargetName Where to Go From Here?
Live7LessonsNoText.tif

-> ラック構築の基本に慣れたところで、さまざまなインストゥルメント・MIDIデバイス・オーディオエフェクトなどを使って試してみましょう。

-> まだ目を通されていない場合、 $Link リファレンスマニュアル <Manual> の「インストゥルメント、ドラム、エフェクトのラック」の章をぜひご一読ください。 ラックは、できるだけ直感的に操作できるよう設計されています。 しかし、パワフルで柔軟性に優れているため、その機能を最大限に活用するには、すべての機能についてしっかり理解する必要があります。

-> ラックの基本に慣れたら、ラックに関する他のレッスンで学びましょう。

$Comment Status: Translate
$Comment Translation Status: Up-to-date